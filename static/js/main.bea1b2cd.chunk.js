(window["webpackJsonptodo-react"]=window["webpackJsonptodo-react"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(39),i=n.n(r),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s,u=n(132),d=n(9),m=n(130),f=n(2),g=n(109),h=n(147),p=n(133),b=n(139),y=n(131),k=n(145),O=n(55),w=n(141),v=n(144),S=n(148),j=n(40),E=n(135),P=n(140),C=n(142),x=n(143),A=n(5),I=n(149);!function(e){e[e.initial=0]="initial",e[e.pending=1]="pending",e[e.success=2]="success",e[e.error=3]="error"}(s||(s={}));var L=n(27),D=function e(){Object(L.a)(this,e)};D.localAPI="local-api",D.localStorage="local-storage";var T=n(41),B=n(31),N=n.n(B),z="https://localhost:5001/",_=function(){function e(){Object(L.a)(this,e)}return Object(T.a)(e,[{key:"getAll",value:function(e){return new Promise((function(e,t){N.a.get("/api/todoitems",{baseURL:z}).then((function(n){200===n.status?e(n.data):(console.error("Status does not indicate success! -> ".concat(n.status)),t(n))})).catch((function(e){t(e)}))}))}},{key:"getById",value:function(e){return new Promise((function(t,n){N.a.get("/api/todoitems/".concat(e),{baseURL:z}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"update",value:function(e,t){return new Promise((function(n,o){N.a.put("/api/todoItems/".concat(e),t,{baseURL:z}).then((function(e){e.status%200<100?n(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),o(e))})).catch((function(e){o(e)}))}))}},{key:"create",value:function(e){return new Promise((function(t,n){N.a.post("/api/todoItems/",e,{baseURL:z}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"deleteById",value:function(e){return new Promise((function(t,n){N.a.delete("/api/todoitems/".concat(e),{baseURL:z}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}}]),e}();function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var W="todo-Database",Q=function(){function e(){Object(L.a)(this,e),localStorage.getItem(W)||localStorage.setItem(W,JSON.stringify(new Array))}return Object(T.a)(e,[{key:"_getDelay",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"_getItems",value:function(){return JSON.parse(String(localStorage.getItem(W)))}},{key:"_setItems",value:function(e){localStorage.setItem(W,JSON.stringify(e))}},{key:"getAll",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){n(e?t._getItems():t._getItems().filter((function(e){return!e.isComplete})))}),t._getDelay(100,1e3))}))}},{key:"getById",value:function(e){var t=this;return new Promise((function(n,o){setTimeout((function(){var a=t._getItems().find((function(t){return t.id===e}));a&&n(a),o(new Error("Item does not exist!"))}),t._getDelay(100,1e3))}))}},{key:"update",value:function(e,t){var n=this;return new Promise((function(o,a){setTimeout((function(){var r=n._getItems();r.forEach((function(a){a.id===e&&(Object.assign(a,t),n._setItems(r),o(t))})),a(new Error("Item does not exist!"))}),n._getDelay(100,1e3))}))}},{key:"create",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var o=t._getItems(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:o.length+1});o.push(a),t._setItems(o),n(a)}),t._getDelay(100,1e3))}))}},{key:"deleteById",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var o=t._getItems(),a=o.findIndex((function(t){return t.id===e}));void 0!==a&&o.splice(a,1),t._setItems(o),n()}),t._getDelay(100,1e3))}))}}]),e}(),U=function(e){switch(e){case D.localAPI:return new _;default:return new Q}},G=a.a.createContext(""),M=G.Provider,F=G;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var q=function(e){var t=U(Object(o.useContext)(F)),n=Object(o.useState)(s.initial),r=Object(d.a)(n,2),i=r[0],c=r[1],l=function(){c(s.pending),t.update(e.item.id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.item,{isComplete:!0})).then((function(){c(s.initial),e.onUpdate(e.item.id)})).catch((function(){console.error("Failed to update!"),c(s.error),setTimeout((function(){c(s.initial)}),3e3)}))};return a.a.createElement("div",null,a.a.createElement(E.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},a.a.createElement(E.a.Section,{tokens:{padding:4}},a.a.createElement(k.a,{horizontal:!0,tokens:{childrenGap:12}},a.a.createElement(O.a,null,e.item.isImportant&&a.a.createElement(P.a,{styles:{root:{fontSize:f.b.xxLarge}},iconName:"LightningBolt"}),!e.item.isImportant&&a.a.createElement(P.a,{styles:{root:{fontSize:f.b.xxLarge}},iconName:"DietPlanNotebook"})),a.a.createElement(O.a,{grow:!0},a.a.createElement(b.a,{styles:{root:{fontSize:f.b.xLarge}}},e.item.name)))),e.item.description&&a.a.createElement(E.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(f.p)().palette.neutralQuaternary)}}},a.a.createElement(b.a,null,e.item.description)),a.a.createElement(E.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(f.p)().palette.neutralQuaternary)}}},i===s.pending&&a.a.createElement(O.a,{grow:!0},a.a.createElement(C.a,null)),i===s.error&&a.a.createElement(O.a,{grow:!0},a.a.createElement(x.a,{messageBarType:A.a.error},"Operation failed!")),e.item.isComplete&&i===s.initial&&a.a.createElement(O.a,{grow:!0},a.a.createElement(x.a,{messageBarType:A.a.success},"Completed!")),a.a.createElement(I.a,{onClick:function(){return l()},disabled:e.item.isComplete,iconProps:{iconName:"Completed"}}),a.a.createElement(I.a,{onClick:function(){return c(s.pending),void t.deleteById(e.item.id).then((function(){e.onDelete(e.item.id)})).catch((function(){console.error("Failed to delete!"),c(s.error),setTimeout((function(){c(s.initial)}),3e3)}))},iconProps:{iconName:"RecycleBin"}}))))},H=n(136),V=function(e){var t=U(Object(o.useContext)(F)),n=Object(o.useState)(String()),r=Object(d.a)(n,2),i=r[0],c=r[1],l=Object(o.useState)(String()),u=Object(d.a)(l,2),m=u[0],g=u[1],h=Object(o.useState)(void 0),p=Object(d.a)(h,2),b=p[0],y=p[1],w=Object(o.useState)(s.initial),v=Object(d.a)(w,2),S=v[0],j=v[1];return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(E.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},a.a.createElement(E.a.Section,{tokens:{padding:4}},a.a.createElement(k.a,{horizontal:!0,tokens:{childrenGap:12}},a.a.createElement(O.a,null,a.a.createElement(I.a,{styles:{icon:{fontSize:f.b.xxLarge}},iconProps:{iconName:function(){switch(b){case!1:return"DietPlanNotebook";case!0:return"LightningBolt";default:return"CircleAddition"}}()},menuProps:{calloutProps:{styles:{calloutMain:{selectors:{div:{minWidth:"unset"},i:{fontSize:f.b.xLarge}}}}},isBeakVisible:!0,items:[{key:"nonImportant",name:"Common",title:"not important",onClick:function(){return y(!1)},iconProps:{iconName:"DietPlanNotebook"}},{key:"Important",name:"Important",title:"important",onClick:function(){return y(!0)},iconProps:{iconName:"LightningBolt"}}],directionalHintFixed:!0}})),a.a.createElement(O.a,{grow:!0},a.a.createElement(H.a,{styles:{root:{},field:{fontSize:f.b.xLarge},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(f.p)().palette.white}}}},placeholder:"Add your title here",value:i,borderless:!0,onChange:function(e,t){return c(String(t))}})))),a.a.createElement(E.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(f.p)().palette.neutralQuaternary)}}},a.a.createElement(H.a,{styles:{root:{},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(f.p)().palette.white}}}},placeholder:"Add your description here",value:m,resizable:!1,autoAdjustHeight:!0,multiline:!0,borderless:!0,onChange:function(e,t){return g(String(t))}})),a.a.createElement(E.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(f.p)().palette.neutralQuaternary)}}},S===s.pending&&a.a.createElement(O.a,{grow:!0},a.a.createElement(C.a,null)),S===s.success&&a.a.createElement(O.a,{grow:!0},a.a.createElement(x.a,{messageBarType:A.a.success},"Added your todo!")),S===s.error&&a.a.createElement(O.a,{grow:!0},a.a.createElement(x.a,{messageBarType:A.a.error},"Could not add your todo!")),a.a.createElement(I.a,{onClick:function(){return j(s.pending),void 0===b&&y(!1),void t.create({name:i,description:m,isComplete:!1,isImportant:b}).then((function(t){j(s.success),e.onCreate(t),c(String()),g(String()),y(void 0)})).catch((function(e){console.error("Failed to create"),j(s.error)})).finally((function(){setTimeout((function(){j(s.initial)}),3e3)}))},disabled:!i||S===s.pending,iconProps:{iconName:"Add"}})))))},$=function(){var e=Object(o.useState)(new Array),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)(!0),c=Object(d.a)(i,2),l=c[0],s=c[1],u=U(Object(o.useContext)(F)),m=function(e){return new Promise((function(t,n){u.getAll(e).then((function(e){r(e),t()})).catch((function(e){console.error(e),n()}))}))};return Object(o.useEffect)((function(){m(l)}),[]),a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(b.a,{styles:{root:{fontSize:f.b.large}}},"My todo app in react"),a.a.createElement("br",null),n&&a.a.createElement(b.a,{styles:{root:{fontSize:f.b.medium,fontWeight:f.c.semilight,selectors:{span:{fontWeight:f.c.semibold}}}}},"I found ",a.a.createElement("span",null,n.length)," todos for you."),a.a.createElement(k.a,{styles:{root:{margin:"auto",maxWidth:"60%",minWidth:350}},tokens:{childrenGap:12,padding:8}},a.a.createElement(O.a,{styles:{root:{backgroundColor:Object(f.p)().palette.neutralLighterAlt}},grow:1},a.a.createElement(V,{onCreate:function(e){return function(e){console.log("Adding item: ".concat(e.id)),r(n.concat(e))}(e)}})),a.a.createElement(w.a,null),a.a.createElement(O.a,{styles:{root:{textAlign:"initial"}}},a.a.createElement(k.a,{horizontal:!0},a.a.createElement(O.a,{grow:!0},a.a.createElement(v.a,{label:"Show completed todos",defaultChecked:!0,onText:"On",offText:"Off",onChange:function(e,t){return n=Boolean(t),s(n),void m(n);var n}})),a.a.createElement(O.a,{align:"end"},a.a.createElement(S.a,{iconProps:{iconName:"RecycleBin"},text:"Delete completed todos",onClick:function(){return function(){var e=new Array;n.forEach((function(t){t.isComplete&&e.push(u.deleteById(t.id))})),Promise.all(e).then((function(){return m(l)})).catch((function(e){return console.error(e)}))}()}})))),n.map((function(e){return a.a.createElement(O.a,{key:e.id,styles:{root:{backgroundColor:Object(f.p)().palette.neutralLighterAlt}},grow:1},a.a.createElement(q,{item:e,onUpdate:function(e){return function(e){console.log("Reloading item: ".concat(e)),u.getById(e).then((function(e){r(n.map((function(t){return t.id===e.id?e:t})))}))}(e)},onDelete:function(e){return function(e){console.log("Removing item: ".concat(e)),r(n.filter((function(t){return t.id!==e})))}(e)}}))}))))},K=function(){var e=Object(o.useState)(D.localStorage),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)(),c=Object(d.a)(i,2),l=c[0],s=c[1],u=Object(o.useState)("default"),k=Object(d.a)(u,2),O=k[0],w=k[1],v=Object(o.useState)(Boolean(localStorage.getItem("button-borders"))),S=Object(d.a)(v,2),j=S[0],E=S[1],P=Object(o.useState)(Boolean(localStorage.getItem("square-toggle"))),C=Object(d.a)(P,2),x=C[0],A=C[1],I=Object(o.useState)(Boolean(localStorage.getItem("rounded-corners"))),L=Object(d.a)(I,2),T=L[0],B=L[1],N=function(e){localStorage.setItem("Theme",e),z(e)},z=function(e){switch(w(e),e){case"purple":s(Object(f.t)({palette:{themePrimary:"#7a00d4",themeLighterAlt:"#f9f3fd",themeLighter:"#e7d0f8",themeLight:"#d3a9f2",themeTertiary:"#ab5ce5",themeSecondary:"#881ad9",themeDarkAlt:"#6e00be",themeDark:"#5d00a1",themeDarker:"#440077",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}));break;case"ice-darkmode":s(Object(f.t)({palette:{themePrimary:"#00c7d4",themeLighterAlt:"#000808",themeLighter:"#002022",themeLight:"#003c3f",themeTertiary:"#00777f",themeSecondary:"#00afba",themeDarkAlt:"#16ccd8",themeDark:"#35d4de",themeDarker:"#66dfe7",neutralLighterAlt:"#2c2c2c",neutralLighter:"#353535",neutralLight:"#434343",neutralQuaternaryAlt:"#4b4b4b",neutralQuaternary:"#525252",neutralTertiaryAlt:"#707070",neutralTertiary:"#f3f3f3",neutralSecondary:"#f5f5f5",neutralPrimaryAlt:"#f7f7f7",neutralPrimary:"#ededed",neutralDark:"#fbfbfb",black:"#fdfdfd",white:"#232323"}}));break;case"high-contrast":s(Object(f.t)({palette:{themePrimary:"#faf400",themeLighterAlt:"#0a0a00",themeLighter:"#282700",themeLight:"#4b4900",themeTertiary:"#969300",themeSecondary:"#dcd700",themeDarkAlt:"#fbf619",themeDark:"#fcf73c",themeDarker:"#fcf96f",neutralLighterAlt:"#1d1d1d",neutralLighter:"#262626",neutralLight:"#353535",neutralQuaternaryAlt:"#3e3e3e",neutralQuaternary:"#454545",neutralTertiaryAlt:"#656565",neutralTertiary:"#fcfcfc",neutralSecondary:"#fcfcfc",neutralPrimaryAlt:"#fdfdfd",neutralPrimary:"#fafafa",neutralDark:"#fefefe",black:"#fefefe",white:"#121212"}}));break;default:s(Object(f.t)({palette:{themePrimary:"#0078d4",themeLighterAlt:"#f3f9fd",themeLighter:"#d0e7f8",themeLight:"#a9d3f2",themeTertiary:"#5ca9e5",themeSecondary:"#1a86d9",themeDarkAlt:"#006cbe",themeDark:"#005ba1",themeDarker:"#004377",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}))}};return Object(o.useEffect)((function(){console.log(window.location.hostname),window.location.hostname.includes("github.io")&&r(D.localStorage);var e=localStorage.getItem("Theme");e&&z(e)}),[]),a.a.createElement(g.a,{scopedSettings:function(){var e,t={};return j&&Object.assign(t,(e=Object(f.p)(),{ActionButton:{styles:{root:{border:"solid 1px ".concat(e.semanticColors.buttonText)},rootHovered:{border:"solid 1px ".concat(e.palette.themePrimary)}}}})),x&&Object.assign(t,(Object(f.p)(),{Toggle:{styles:{pill:{borderRadius:0},thumb:{borderRadius:0}}}})),T&&Object.assign(t,(Object(f.p)(),{StackItem:{styles:{root:{borderRadius:12}}}})),t}()},a.a.createElement(m.a,{theme:l},a.a.createElement(M,{value:n},a.a.createElement("div",{style:{backgroundColor:Object(f.p)().semanticColors.bodyBackground}},a.a.createElement(h.a,{styles:{root:{backgroundColor:Object(f.p)().palette.neutralLighterAlt}}},a.a.createElement(p.a,{styles:{root:{position:"fixed",top:0,left:0,zIndex:1e3,width:"100%",borderBottom:"solid 1px",borderBottomColor:Object(f.p)().palette.themePrimary,boxShadow:y.a.depth8}},items:[{key:"theme",iconProps:{iconName:"Color"},text:"Theme",subMenuProps:{items:[{key:"default",iconProps:{iconName:"default"===O?"ColorSolid":"Color"},text:"Default",onClick:function(){return N("default")}},{key:"purple",iconProps:{iconName:"purple"===O?"ColorSolid":"Color"},text:"Purple",onClick:function(){return N("purple")}},{key:"ice-darkmode",iconProps:{iconName:"ice-darkmode"===O?"ColorSolid":"Color"},text:"Ice Darkmode",onClick:function(){return N("ice-darkmode")}},{key:"high-contrast",iconProps:{iconName:"high-contrast"===O?"ColorSolid":"Color"},text:"High Contrast",onClick:function(){return N("high-contrast")}}]}},{key:"customization",iconProps:{iconName:"Repair"},text:"Customization",subMenuProps:{items:[{key:"button-borders",iconProps:{iconName:j?"CheckboxComposite":"Checkbox"},text:"Show button borders",onClick:function(){localStorage.setItem("button-borders",String(!j)),E(!j)}},{key:"square-toggle",iconProps:{iconName:x?"CheckboxComposite":"Checkbox"},text:"Show square toggles",onClick:function(){localStorage.setItem("square-toggle",String(!x)),A(!x)}},{key:"rounded-corners",iconProps:{iconName:T?"CheckboxComposite":"Checkbox"},text:"Use rounded corners",onClick:function(){localStorage.setItem("rounded-corners",String(!T)),B(!T)}}]}}]}),a.a.createElement("div",{style:{marginTop:44}},a.a.createElement($,null)),a.a.createElement("div",{style:{textAlign:"center",marginTop:12}},a.a.createElement(b.a,{styles:{root:{}}},"Find repository under ",a.a.createElement("a",{style:{color:Object(f.p)().palette.themePrimary},href:"https://github.com/Oshimani/todo-react"},"https://github.com/Oshimani/todo-react"),"."))))),a.a.createElement("div",{style:{backgroundColor:Object(f.p)().semanticColors.bodyBackground,position:"fixed",top:0,left:0,height:"100%",width:"100%",zIndex:-1e3}})))};Object(u.a)(),i.a.render(a.a.createElement(K,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/todo-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/todo-react","/service-worker.js");c?(!function(e,t){fetch(e).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},82:function(e,t,n){e.exports=n(105)}},[[82,1,2]]]);
//# sourceMappingURL=main.bea1b2cd.chunk.js.map