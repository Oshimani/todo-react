(window["webpackJsonptodo-react"]=window["webpackJsonptodo-react"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(39),i=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,l=n(76),u=n(15),s=n(137),d=r.a.createContext(""),m=d.Provider,f=d,h=n(2),p=n(136),g=n(129),b=n(141),y=n(142),k=n(55),O=n(140),E=n(144),w=n(149),v=n(42),j=n(131),S=n(143),P=n(134),x=n(139),A=n(5),C=n(146);!function(e){e[e.initial=0]="initial",e[e.pending=1]="pending",e[e.success=2]="success",e[e.error=3]="error"}(c||(c={}));var I=n(27),L=function e(){Object(I.a)(this,e)};L.localAPI="local-api",L.localStorage="local-storage";var D=n(43),T=n(31),B=n.n(T),N="https://localhost:5001/",z=function(){function e(){Object(I.a)(this,e)}return Object(D.a)(e,[{key:"getAll",value:function(e){return new Promise((function(e,t){B.a.get("/api/todoitems",{baseURL:N}).then((function(n){200===n.status?e(n.data):(console.error("Status does not indicate success! -> ".concat(n.status)),t(n))})).catch((function(e){t(e)}))}))}},{key:"getById",value:function(e){return new Promise((function(t,n){B.a.get("/api/todoitems/".concat(e),{baseURL:N}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"update",value:function(e,t){return new Promise((function(n,a){B.a.put("/api/todoItems/".concat(e),t,{baseURL:N}).then((function(e){e.status%200<100?n(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),a(e))})).catch((function(e){a(e)}))}))}},{key:"create",value:function(e){return new Promise((function(t,n){B.a.post("/api/todoItems/",e,{baseURL:N}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"deleteById",value:function(e){return new Promise((function(t,n){B.a.delete("/api/todoitems/".concat(e),{baseURL:N}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}}]),e}();function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Q="todo-Database",R=function(){function e(){Object(I.a)(this,e),localStorage.getItem(Q)||localStorage.setItem(Q,JSON.stringify(new Array))}return Object(D.a)(e,[{key:"_getDelay",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"_getItems",value:function(){return JSON.parse(String(localStorage.getItem(Q)))}},{key:"_setItems",value:function(e){localStorage.setItem(Q,JSON.stringify(e))}},{key:"getAll",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){n(e?t._getItems():t._getItems().filter((function(e){return!e.isComplete})))}),t._getDelay(100,1e3))}))}},{key:"getById",value:function(e){var t=this;return new Promise((function(n,a){setTimeout((function(){var r=t._getItems().find((function(t){return t.id===e}));r&&n(r),a(new Error("Item does not exist!"))}),t._getDelay(100,1e3))}))}},{key:"update",value:function(e,t){var n=this;return new Promise((function(a,r){setTimeout((function(){var o=n._getItems();o.forEach((function(r){r.id===e&&(Object.assign(r,t),n._setItems(o),a(t))})),r(new Error("Item does not exist!"))}),n._getDelay(100,1e3))}))}},{key:"create",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var a=t._getItems(),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:a.length+1});a.push(r),t._setItems(a),n(r)}),t._getDelay(100,1e3))}))}},{key:"deleteById",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var a=t._getItems(),r=a.findIndex((function(t){return t.id===e}));void 0!==r&&a.splice(r,1),t._setItems(a),n()}),t._getDelay(100,1e3))}))}}]),e}(),W=function(e){switch(e){case L.localAPI:return new z;default:return new R}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var U=function(e){var t=W(Object(a.useContext)(f)),n=Object(a.useState)(c.initial),o=Object(u.a)(n,2),i=o[0],l=o[1],s=function(){l(c.pending),t.update(e.item.id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.item,{isComplete:!0})).then((function(t){l(c.initial),e.onUpdate(e.item.id)})).catch((function(e){console.error("Failed to update!"),l(c.error),setTimeout((function(){l(c.initial)}),3e3)}))};return r.a.createElement("div",null,r.a.createElement(j.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},r.a.createElement(j.a.Section,{tokens:{padding:4}},r.a.createElement(y.a,{horizontal:!0,tokens:{childrenGap:12}},r.a.createElement(k.a,null,e.item.isImportant&&r.a.createElement(S.a,{styles:{root:{fontSize:h.b.xxLarge}},iconName:"LightningBolt"}),!e.item.isImportant&&r.a.createElement(S.a,{styles:{root:{fontSize:h.b.xxLarge}},iconName:"DietPlanNotebook"})),r.a.createElement(k.a,{grow:!0},r.a.createElement(b.a,{styles:{root:{fontSize:h.b.xLarge}}},e.item.name)))),e.item.description&&r.a.createElement(j.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(h.p)().palette.neutralQuaternary)}}},r.a.createElement(b.a,null,e.item.description)),r.a.createElement(j.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(h.p)().palette.neutralQuaternary)}}},i===c.pending&&r.a.createElement(k.a,{grow:!0},r.a.createElement(P.a,null)),i===c.error&&r.a.createElement(k.a,{grow:!0},r.a.createElement(x.a,{messageBarType:A.a.error},"Operation failed!")),e.item.isComplete&&i===c.initial&&r.a.createElement(k.a,{grow:!0},r.a.createElement(x.a,{messageBarType:A.a.success},"Completed!")),r.a.createElement(C.a,{onClick:function(){return s()},disabled:e.item.isComplete,iconProps:{iconName:"Completed"}}),r.a.createElement(C.a,{onClick:function(){return l(c.pending),void t.deleteById(e.item.id).then((function(){e.onDelete(e.item.id)})).catch((function(e){console.error("Failed to delete!"),l(c.error),setTimeout((function(){l(c.initial)}),3e3)}))},iconProps:{iconName:"RecycleBin"}}))))},J=n(132),M=function(e){var t=W(Object(a.useContext)(f)),n=Object(a.useState)(String()),o=Object(u.a)(n,2),i=o[0],l=o[1],s=Object(a.useState)(String()),d=Object(u.a)(s,2),m=d[0],p=d[1],g=Object(a.useState)(void 0),b=Object(u.a)(g,2),O=b[0],E=b[1],w=Object(a.useState)(c.initial),v=Object(u.a)(w,2),S=v[0],I=v[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(j.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},r.a.createElement(j.a.Section,{tokens:{padding:4}},r.a.createElement(y.a,{horizontal:!0,tokens:{childrenGap:12}},r.a.createElement(k.a,null,r.a.createElement(C.a,{styles:{icon:{fontSize:h.b.xxLarge}},iconProps:{iconName:function(){switch(O){case!1:return"DietPlanNotebook";case!0:return"LightningBolt";default:return"CircleAddition"}}()},menuProps:{calloutProps:{styles:{calloutMain:{selectors:{div:{minWidth:"unset"},i:{fontSize:h.b.xLarge}}}}},isBeakVisible:!0,items:[{key:"nonImportant",name:"Common",title:"not important",onClick:function(){return E(!1)},iconProps:{iconName:"DietPlanNotebook"}},{key:"Important",name:"Important",title:"important",onClick:function(){return E(!0)},iconProps:{iconName:"LightningBolt"}}],directionalHintFixed:!0}})),r.a.createElement(k.a,{grow:!0},r.a.createElement(J.a,{styles:{root:{},field:{fontSize:h.b.xLarge},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(h.p)().palette.white}}}},placeholder:"Add your title here",value:i,borderless:!0,onChange:function(e,t){return l(String(t))}})))),r.a.createElement(j.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(h.p)().palette.neutralQuaternary)}}},r.a.createElement(J.a,{styles:{root:{},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(h.p)().palette.white}}}},placeholder:"Add your description here",value:m,resizable:!1,autoAdjustHeight:!0,multiline:!0,borderless:!0,onChange:function(e,t){return p(String(t))}})),r.a.createElement(j.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(h.p)().palette.neutralQuaternary)}}},S===c.pending&&r.a.createElement(k.a,{grow:!0},r.a.createElement(P.a,null)),S===c.success&&r.a.createElement(k.a,{grow:!0},r.a.createElement(x.a,{messageBarType:A.a.success},"Added your todo!")),S===c.error&&r.a.createElement(k.a,{grow:!0},r.a.createElement(x.a,{messageBarType:A.a.error},"Could not add your todo!")),r.a.createElement(C.a,{onClick:function(){return I(c.pending),void 0===O&&E(!1),void t.create({name:i,description:m,isComplete:!1,isImportant:O}).then((function(t){I(c.success),e.onCreate(t),l(String()),p(String()),E(void 0)})).catch((function(e){console.error("Failed to create"),I(c.error)})).finally((function(){setTimeout((function(){I(c.initial)}),3e3)}))},disabled:!i||S===c.pending,iconProps:{iconName:"Add"}})))))},F=function(){var e=Object(a.useState)(new Array),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!0),c=Object(u.a)(i,2),l=c[0],s=c[1],d=W(Object(a.useContext)(f)),m=function(e){return new Promise((function(t,n){d.getAll(e).then((function(e){o(e),t()})).catch((function(e){console.error(e),n()}))}))};return Object(a.useEffect)((function(){m(l)}),[]),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(b.a,{styles:{root:{fontSize:h.b.large}}},"My todo app in react"),r.a.createElement("br",null),n&&r.a.createElement(b.a,{styles:{root:{fontSize:h.b.medium,fontWeight:h.c.semilight,selectors:{span:{fontWeight:h.c.semibold}}}}},"I found ",r.a.createElement("span",null,n.length)," todos for you."),r.a.createElement(y.a,{styles:{root:{margin:"auto",maxWidth:"60%",minWidth:350}},tokens:{childrenGap:12,padding:8}},r.a.createElement(k.a,{styles:{root:{backgroundColor:Object(h.p)().palette.neutralLighterAlt}},grow:1},r.a.createElement(M,{onCreate:function(e){return function(e){console.log("Adding item: ".concat(e.id)),o(n.concat(e))}(e)}})),r.a.createElement(O.a,null),r.a.createElement(k.a,{styles:{root:{textAlign:"initial"}}},r.a.createElement(y.a,{horizontal:!0},r.a.createElement(k.a,{grow:!0},r.a.createElement(E.a,{label:"Show completed todos",defaultChecked:!0,onText:"On",offText:"Off",onChange:function(e,t){return n=Boolean(t),s(n),void m(n);var n}})),r.a.createElement(k.a,{align:"end"},r.a.createElement(w.a,{iconProps:{iconName:"RecycleBin"},text:"Delete completed todos",onClick:function(){return function(){var e=new Array;n.forEach((function(t){t.isComplete&&e.push(d.deleteById(t.id))})),Promise.all(e).then((function(){return m(l)})).catch((function(e){return console.error(e)}))}()}})))),n.map((function(e){return r.a.createElement(k.a,{key:e.id,styles:{root:{backgroundColor:Object(h.p)().palette.neutralLighterAlt}},grow:1},r.a.createElement(U,{item:e,onUpdate:function(e){return function(e){console.log("Reloading item: ".concat(e)),d.getById(e).then((function(e){o(n.map((function(t){return t.id===e.id?e:t})))}))}(e)},onDelete:function(e){return function(e){console.log("Removing item: ".concat(e)),o(n.filter((function(t){return t.id!==e})))}(e)}}))}))))},H=function(){var e=Object(a.useState)(L.localStorage),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(),c=Object(u.a)(i,2),l=c[0],d=c[1],f=Object(a.useState)("default"),b=Object(u.a)(f,2),y=b[0],k=b[1],O=function(e){localStorage.setItem("Theme",e),E(e)},E=function(e){switch(k(e),e){case"purple":d(Object(h.t)({palette:{themePrimary:"#7a00d4",themeLighterAlt:"#f9f3fd",themeLighter:"#e7d0f8",themeLight:"#d3a9f2",themeTertiary:"#ab5ce5",themeSecondary:"#881ad9",themeDarkAlt:"#6e00be",themeDark:"#5d00a1",themeDarker:"#440077",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}));break;case"ice-darkmode":d(Object(h.t)({palette:{themePrimary:"#00c7d4",themeLighterAlt:"#000808",themeLighter:"#002022",themeLight:"#003c3f",themeTertiary:"#00777f",themeSecondary:"#00afba",themeDarkAlt:"#16ccd8",themeDark:"#35d4de",themeDarker:"#66dfe7",neutralLighterAlt:"#2c2c2c",neutralLighter:"#353535",neutralLight:"#434343",neutralQuaternaryAlt:"#4b4b4b",neutralQuaternary:"#525252",neutralTertiaryAlt:"#707070",neutralTertiary:"#f3f3f3",neutralSecondary:"#f5f5f5",neutralPrimaryAlt:"#f7f7f7",neutralPrimary:"#ededed",neutralDark:"#fbfbfb",black:"#fdfdfd",white:"#232323"}}));break;case"high-contrast":d(Object(h.t)({palette:{themePrimary:"#faf400",themeLighterAlt:"#0a0a00",themeLighter:"#282700",themeLight:"#4b4900",themeTertiary:"#969300",themeSecondary:"#dcd700",themeDarkAlt:"#fbf619",themeDark:"#fcf73c",themeDarker:"#fcf96f",neutralLighterAlt:"#1d1d1d",neutralLighter:"#262626",neutralLight:"#353535",neutralQuaternaryAlt:"#3e3e3e",neutralQuaternary:"#454545",neutralTertiaryAlt:"#656565",neutralTertiary:"#fcfcfc",neutralSecondary:"#fcfcfc",neutralPrimaryAlt:"#fdfdfd",neutralPrimary:"#fafafa",neutralDark:"#fefefe",black:"#fefefe",white:"#121212"}}));break;default:d(Object(h.t)({palette:{themePrimary:"#0078d4",themeLighterAlt:"#f3f9fd",themeLighter:"#d0e7f8",themeLight:"#a9d3f2",themeTertiary:"#5ca9e5",themeSecondary:"#1a86d9",themeDarkAlt:"#006cbe",themeDark:"#005ba1",themeDarker:"#004377",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}))}};return Object(a.useEffect)((function(){console.log(window.location.hostname),window.location.hostname.includes("github.io")&&o(L.localStorage);var e=localStorage.getItem("Theme");e&&E(e)}),[]),r.a.createElement(s.a,{theme:l},r.a.createElement(m,{value:n},r.a.createElement("div",{style:{backgroundColor:Object(h.p)().semanticColors.bodyBackground}},r.a.createElement(p.a,{styles:{root:{backgroundColor:Object(h.p)().palette.neutralLighterAlt}}},r.a.createElement(g.a,{styles:{root:{position:"fixed",top:0,left:0,zIndex:1e3,width:"100%",borderBottom:"solid 1px",borderBottomColor:Object(h.p)().palette.themePrimary,boxShadow:"rgba(0, 0, 0, 0.133) 0px 1.6px 3.6px 0px, rgba(0, 0, 0, 0.11) 0px 0.3px 0.9px 0px"}},items:[{key:"theme",iconProps:{iconName:"Color"},text:"Theme",subMenuProps:{items:[{key:"default",iconProps:{iconName:"default"===y?"ColorSolid":"Color"},text:"Default",onClick:function(){return O("default")}},{key:"purple",iconProps:{iconName:"purple"===y?"ColorSolid":"Color"},text:"Purple",onClick:function(){return O("purple")}},{key:"ice-darkmode",iconProps:{iconName:"ice-darkmode"===y?"ColorSolid":"Color"},text:"Ice Darkmode",onClick:function(){return O("ice-darkmode")}},{key:"high-contrast",iconProps:{iconName:"high-contrast"===y?"ColorSolid":"Color"},text:"High Contrast",onClick:function(){return O("high-contrast")}}]}}]}),r.a.createElement("div",{style:{marginTop:44}},r.a.createElement(F,null))))))};Object(l.a)(),i.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,n){e.exports=n(106)}},[[83,1,2]]]);
//# sourceMappingURL=main.a42d19c0.chunk.js.map