(window["webpackJsonptodo-react"]=window["webpackJsonptodo-react"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(39),i=n.n(o),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s,u=n(128),d=n(15),f=n(136),m=n(2),h=n(134),p=n(129),g=n(140),b=n(143),y=n(55),k=n(135),w=n(137),O=n(146),v=n(40),E=n(131),j=n(142),S=n(144),P=n(138),A=n(5),x=n(145);!function(e){e[e.initial=0]="initial",e[e.pending=1]="pending",e[e.success=2]="success",e[e.error=3]="error"}(s||(s={}));var C=n(27),L=function e(){Object(C.a)(this,e)};L.localAPI="local-api",L.localStorage="local-storage";var I=n(41),D=n(31),T=n.n(D),B="https://localhost:5001/",N=function(){function e(){Object(C.a)(this,e)}return Object(I.a)(e,[{key:"getAll",value:function(e){return new Promise((function(e,t){T.a.get("/api/todoitems",{baseURL:B}).then((function(n){200===n.status?e(n.data):(console.error("Status does not indicate success! -> ".concat(n.status)),t(n))})).catch((function(e){t(e)}))}))}},{key:"getById",value:function(e){return new Promise((function(t,n){T.a.get("/api/todoitems/".concat(e),{baseURL:B}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"update",value:function(e,t){return new Promise((function(n,a){T.a.put("/api/todoItems/".concat(e),t,{baseURL:B}).then((function(e){e.status%200<100?n(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),a(e))})).catch((function(e){a(e)}))}))}},{key:"create",value:function(e){return new Promise((function(t,n){T.a.post("/api/todoItems/",e,{baseURL:B}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}},{key:"deleteById",value:function(e){return new Promise((function(t,n){T.a.delete("/api/todoitems/".concat(e),{baseURL:B}).then((function(e){e.status%200<100?t(e.data):(console.error("Status does not indicate success! -> ".concat(e.status)),n(e))})).catch((function(e){n(e)}))}))}}]),e}();function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _="todo-Database",W=function(){function e(){Object(C.a)(this,e),localStorage.getItem(_)||localStorage.setItem(_,JSON.stringify(new Array))}return Object(I.a)(e,[{key:"_getDelay",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"_getItems",value:function(){return JSON.parse(String(localStorage.getItem(_)))}},{key:"_setItems",value:function(e){localStorage.setItem(_,JSON.stringify(e))}},{key:"getAll",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){n(e?t._getItems():t._getItems().filter((function(e){return!e.isComplete})))}),t._getDelay(100,1e3))}))}},{key:"getById",value:function(e){var t=this;return new Promise((function(n,a){setTimeout((function(){var r=t._getItems().find((function(t){return t.id===e}));r&&n(r),a(new Error("Item does not exist!"))}),t._getDelay(100,1e3))}))}},{key:"update",value:function(e,t){var n=this;return new Promise((function(a,r){setTimeout((function(){var o=n._getItems();o.forEach((function(r){r.id===e&&(Object.assign(r,t),n._setItems(o),a(t))})),r(new Error("Item does not exist!"))}),n._getDelay(100,1e3))}))}},{key:"create",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var a=t._getItems(),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{id:a.length+1});a.push(r),t._setItems(a),n(r)}),t._getDelay(100,1e3))}))}},{key:"deleteById",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){var a=t._getItems(),r=a.findIndex((function(t){return t.id===e}));void 0!==r&&a.splice(r,1),t._setItems(a),n()}),t._getDelay(100,1e3))}))}}]),e}(),Q=function(e){switch(e){case L.localAPI:return new N;default:return new W}},R=r.a.createContext(""),U=R.Provider,G=R;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var J=function(e){var t=Q(Object(a.useContext)(G)),n=Object(a.useState)(s.initial),o=Object(d.a)(n,2),i=o[0],c=o[1],l=function(){c(s.pending),t.update(e.item.id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.item,{isComplete:!0})).then((function(){c(s.initial),e.onUpdate(e.item.id)})).catch((function(){console.error("Failed to update!"),c(s.error),setTimeout((function(){c(s.initial)}),3e3)}))};return r.a.createElement("div",null,r.a.createElement(E.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},r.a.createElement(E.a.Section,{tokens:{padding:4}},r.a.createElement(b.a,{horizontal:!0,tokens:{childrenGap:12}},r.a.createElement(y.a,null,e.item.isImportant&&r.a.createElement(j.a,{styles:{root:{fontSize:m.b.xxLarge}},iconName:"LightningBolt"}),!e.item.isImportant&&r.a.createElement(j.a,{styles:{root:{fontSize:m.b.xxLarge}},iconName:"DietPlanNotebook"})),r.a.createElement(y.a,{grow:!0},r.a.createElement(g.a,{styles:{root:{fontSize:m.b.xLarge}}},e.item.name)))),e.item.description&&r.a.createElement(E.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(m.p)().palette.neutralQuaternary)}}},r.a.createElement(g.a,null,e.item.description)),r.a.createElement(E.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(m.p)().palette.neutralQuaternary)}}},i===s.pending&&r.a.createElement(y.a,{grow:!0},r.a.createElement(S.a,null)),i===s.error&&r.a.createElement(y.a,{grow:!0},r.a.createElement(P.a,{messageBarType:A.a.error},"Operation failed!")),e.item.isComplete&&i===s.initial&&r.a.createElement(y.a,{grow:!0},r.a.createElement(P.a,{messageBarType:A.a.success},"Completed!")),r.a.createElement(x.a,{onClick:function(){return l()},disabled:e.item.isComplete,iconProps:{iconName:"Completed"}}),r.a.createElement(x.a,{onClick:function(){return c(s.pending),void t.deleteById(e.item.id).then((function(){e.onDelete(e.item.id)})).catch((function(){console.error("Failed to delete!"),c(s.error),setTimeout((function(){c(s.initial)}),3e3)}))},iconProps:{iconName:"RecycleBin"}}))))},M=n(132),H=function(e){var t=Q(Object(a.useContext)(G)),n=Object(a.useState)(String()),o=Object(d.a)(n,2),i=o[0],c=o[1],l=Object(a.useState)(String()),u=Object(d.a)(l,2),f=u[0],h=u[1],p=Object(a.useState)(void 0),g=Object(d.a)(p,2),k=g[0],w=g[1],O=Object(a.useState)(s.initial),v=Object(d.a)(O,2),j=v[0],C=v[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(E.a,{styles:{root:{textAlign:"initial"}},tokens:{padding:5,childrenGap:5,width:"100%",maxWidth:"-webkit-fill-available"}},r.a.createElement(E.a.Section,{tokens:{padding:4}},r.a.createElement(b.a,{horizontal:!0,tokens:{childrenGap:12}},r.a.createElement(y.a,null,r.a.createElement(x.a,{styles:{icon:{fontSize:m.b.xxLarge}},iconProps:{iconName:function(){switch(k){case!1:return"DietPlanNotebook";case!0:return"LightningBolt";default:return"CircleAddition"}}()},menuProps:{calloutProps:{styles:{calloutMain:{selectors:{div:{minWidth:"unset"},i:{fontSize:m.b.xLarge}}}}},isBeakVisible:!0,items:[{key:"nonImportant",name:"Common",title:"not important",onClick:function(){return w(!1)},iconProps:{iconName:"DietPlanNotebook"}},{key:"Important",name:"Important",title:"important",onClick:function(){return w(!0)},iconProps:{iconName:"LightningBolt"}}],directionalHintFixed:!0}})),r.a.createElement(y.a,{grow:!0},r.a.createElement(M.a,{styles:{root:{},field:{fontSize:m.b.xLarge},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(m.p)().palette.white}}}},placeholder:"Add your title here",value:i,borderless:!0,onChange:function(e,t){return c(String(t))}})))),r.a.createElement(E.a.Section,{tokens:{padding:4},styles:{root:{borderTop:"solid 1px ".concat(Object(m.p)().palette.neutralQuaternary)}}},r.a.createElement(M.a,{styles:{root:{},fieldGroup:{background:"none",selectors:{"&:hover":{background:Object(m.p)().palette.white}}}},placeholder:"Add your description here",value:f,resizable:!1,autoAdjustHeight:!0,multiline:!0,borderless:!0,onChange:function(e,t){return h(String(t))}})),r.a.createElement(E.a.Section,{tokens:{padding:4},horizontalAlign:"end",horizontal:!0,styles:{root:{borderTop:"solid 1px ".concat(Object(m.p)().palette.neutralQuaternary)}}},j===s.pending&&r.a.createElement(y.a,{grow:!0},r.a.createElement(S.a,null)),j===s.success&&r.a.createElement(y.a,{grow:!0},r.a.createElement(P.a,{messageBarType:A.a.success},"Added your todo!")),j===s.error&&r.a.createElement(y.a,{grow:!0},r.a.createElement(P.a,{messageBarType:A.a.error},"Could not add your todo!")),r.a.createElement(x.a,{onClick:function(){return C(s.pending),void 0===k&&w(!1),void t.create({name:i,description:f,isComplete:!1,isImportant:k}).then((function(t){C(s.success),e.onCreate(t),c(String()),h(String()),w(void 0)})).catch((function(e){console.error("Failed to create"),C(s.error)})).finally((function(){setTimeout((function(){C(s.initial)}),3e3)}))},disabled:!i||j===s.pending,iconProps:{iconName:"Add"}})))))},V=function(){var e=Object(a.useState)(new Array),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!0),c=Object(d.a)(i,2),l=c[0],s=c[1],u=Q(Object(a.useContext)(G)),f=function(e){return new Promise((function(t,n){u.getAll(e).then((function(e){o(e),t()})).catch((function(e){console.error(e),n()}))}))};return Object(a.useEffect)((function(){f(l)}),[]),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(g.a,{styles:{root:{fontSize:m.b.large}}},"My todo app in react"),r.a.createElement("br",null),n&&r.a.createElement(g.a,{styles:{root:{fontSize:m.b.medium,fontWeight:m.c.semilight,selectors:{span:{fontWeight:m.c.semibold}}}}},"I found ",r.a.createElement("span",null,n.length)," todos for you."),r.a.createElement(b.a,{styles:{root:{margin:"auto",maxWidth:"60%",minWidth:350}},tokens:{childrenGap:12,padding:8}},r.a.createElement(y.a,{styles:{root:{backgroundColor:Object(m.p)().palette.neutralLighterAlt}},grow:1},r.a.createElement(H,{onCreate:function(e){return function(e){console.log("Adding item: ".concat(e.id)),o(n.concat(e))}(e)}})),r.a.createElement(k.a,null),r.a.createElement(y.a,{styles:{root:{textAlign:"initial"}}},r.a.createElement(b.a,{horizontal:!0},r.a.createElement(y.a,{grow:!0},r.a.createElement(w.a,{label:"Show completed todos",defaultChecked:!0,onText:"On",offText:"Off",onChange:function(e,t){return n=Boolean(t),s(n),void f(n);var n}})),r.a.createElement(y.a,{align:"end"},r.a.createElement(O.a,{iconProps:{iconName:"RecycleBin"},text:"Delete completed todos",onClick:function(){return function(){var e=new Array;n.forEach((function(t){t.isComplete&&e.push(u.deleteById(t.id))})),Promise.all(e).then((function(){return f(l)})).catch((function(e){return console.error(e)}))}()}})))),n.map((function(e){return r.a.createElement(y.a,{key:e.id,styles:{root:{backgroundColor:Object(m.p)().palette.neutralLighterAlt}},grow:1},r.a.createElement(J,{item:e,onUpdate:function(e){return function(e){console.log("Reloading item: ".concat(e)),u.getById(e).then((function(e){o(n.map((function(t){return t.id===e.id?e:t})))}))}(e)},onDelete:function(e){return function(e){console.log("Removing item: ".concat(e)),o(n.filter((function(t){return t.id!==e})))}(e)}}))}))))},$=function(){var e=Object(a.useState)(L.localStorage),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(),c=Object(d.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)("default"),b=Object(d.a)(u,2),y=b[0],k=b[1],w=function(e){localStorage.setItem("Theme",e),O(e)},O=function(e){switch(k(e),e){case"purple":s(Object(m.t)({palette:{themePrimary:"#7a00d4",themeLighterAlt:"#f9f3fd",themeLighter:"#e7d0f8",themeLight:"#d3a9f2",themeTertiary:"#ab5ce5",themeSecondary:"#881ad9",themeDarkAlt:"#6e00be",themeDark:"#5d00a1",themeDarker:"#440077",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}));break;case"ice-darkmode":s(Object(m.t)({palette:{themePrimary:"#00c7d4",themeLighterAlt:"#000808",themeLighter:"#002022",themeLight:"#003c3f",themeTertiary:"#00777f",themeSecondary:"#00afba",themeDarkAlt:"#16ccd8",themeDark:"#35d4de",themeDarker:"#66dfe7",neutralLighterAlt:"#2c2c2c",neutralLighter:"#353535",neutralLight:"#434343",neutralQuaternaryAlt:"#4b4b4b",neutralQuaternary:"#525252",neutralTertiaryAlt:"#707070",neutralTertiary:"#f3f3f3",neutralSecondary:"#f5f5f5",neutralPrimaryAlt:"#f7f7f7",neutralPrimary:"#ededed",neutralDark:"#fbfbfb",black:"#fdfdfd",white:"#232323"}}));break;case"high-contrast":s(Object(m.t)({palette:{themePrimary:"#faf400",themeLighterAlt:"#0a0a00",themeLighter:"#282700",themeLight:"#4b4900",themeTertiary:"#969300",themeSecondary:"#dcd700",themeDarkAlt:"#fbf619",themeDark:"#fcf73c",themeDarker:"#fcf96f",neutralLighterAlt:"#1d1d1d",neutralLighter:"#262626",neutralLight:"#353535",neutralQuaternaryAlt:"#3e3e3e",neutralQuaternary:"#454545",neutralTertiaryAlt:"#656565",neutralTertiary:"#fcfcfc",neutralSecondary:"#fcfcfc",neutralPrimaryAlt:"#fdfdfd",neutralPrimary:"#fafafa",neutralDark:"#fefefe",black:"#fefefe",white:"#121212"}}));break;default:s(Object(m.t)({palette:{themePrimary:"#0078d4",themeLighterAlt:"#f3f9fd",themeLighter:"#d0e7f8",themeLight:"#a9d3f2",themeTertiary:"#5ca9e5",themeSecondary:"#1a86d9",themeDarkAlt:"#006cbe",themeDark:"#005ba1",themeDarker:"#004377",neutralLighterAlt:"#f8f8f8",neutralLighter:"#f4f4f4",neutralLight:"#eaeaea",neutralQuaternaryAlt:"#dadada",neutralQuaternary:"#d0d0d0",neutralTertiaryAlt:"#c8c8c8",neutralTertiary:"#bab8b7",neutralSecondary:"#a3a2a0",neutralPrimaryAlt:"#8d8b8a",neutralPrimary:"#323130",neutralDark:"#605e5d",black:"#494847",white:"#ffffff"}}))}};return Object(a.useEffect)((function(){console.log(window.location.hostname),window.location.hostname.includes("github.io")&&o(L.localStorage);var e=localStorage.getItem("Theme");e&&O(e)}),[]),r.a.createElement(f.a,{theme:l},r.a.createElement(U,{value:n},r.a.createElement("div",{style:{backgroundColor:Object(m.p)().semanticColors.bodyBackground}},r.a.createElement(h.a,{styles:{root:{backgroundColor:Object(m.p)().palette.neutralLighterAlt}}},r.a.createElement(p.a,{styles:{root:{position:"fixed",top:0,left:0,zIndex:1e3,width:"100%",borderBottom:"solid 1px",borderBottomColor:Object(m.p)().palette.themePrimary,boxShadow:"rgba(0, 0, 0, 0.133) 0px 1.6px 3.6px 0px, rgba(0, 0, 0, 0.11) 0px 0.3px 0.9px 0px"}},items:[{key:"theme",iconProps:{iconName:"Color"},text:"Theme",subMenuProps:{items:[{key:"default",iconProps:{iconName:"default"===y?"ColorSolid":"Color"},text:"Default",onClick:function(){return w("default")}},{key:"purple",iconProps:{iconName:"purple"===y?"ColorSolid":"Color"},text:"Purple",onClick:function(){return w("purple")}},{key:"ice-darkmode",iconProps:{iconName:"ice-darkmode"===y?"ColorSolid":"Color"},text:"Ice Darkmode",onClick:function(){return w("ice-darkmode")}},{key:"high-contrast",iconProps:{iconName:"high-contrast"===y?"ColorSolid":"Color"},text:"High Contrast",onClick:function(){return w("high-contrast")}}]}}]}),r.a.createElement("div",{style:{marginTop:44}},r.a.createElement(V,null)),r.a.createElement("div",{style:{textAlign:"center",marginTop:12}},r.a.createElement(g.a,{styles:{root:{}}},"Find repository under ",r.a.createElement("a",{style:{color:Object(m.p)().palette.themePrimary},href:"https://github.com/Oshimani/todo-react"},"https://github.com/Oshimani/todo-react"),"."))))),r.a.createElement("div",{style:{backgroundColor:Object(m.p)().semanticColors.bodyBackground,position:"fixed",top:0,left:0,height:"100%",width:"100%",zIndex:-1e3}}))};Object(u.a)(),i.a.render(r.a.createElement($,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/todo-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/todo-react","/service-worker.js");c?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},82:function(e,t,n){e.exports=n(105)}},[[82,1,2]]]);
//# sourceMappingURL=main.4589ca4e.chunk.js.map